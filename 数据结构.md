# 红黑树
红黑树是一种自平衡的二叉查找树，它在普通二叉查找树的基础上添加了颜色属性和严格的平衡规则，以确保在进行插入、删除和查找操作时，树的高度始终保持在对数级别，从而提供稳定的、近似于O(log n)的时间复杂度

基本规则
```
1.根节点为黑色
2.所有外部节点或空节点（NIL节点）被认为是黑色的叶子节点，它们不存储有效数据，仅作为树结构的填充
3.红色节点的两个子节点必须是黑色，即不存在连续的红色节点（即“红-红”冲突）
4.从任一节点到其所有后代叶子节点的简单路径上，黑色节点的数量相同
```
# B树和B+树
二者的区别
```
1.数据存储位置：
B树：非叶子节点和叶子节点都存储数据（键值对），即数据既可以存在于中间节点，也可以存在于叶子节点
B+树：非叶子节点仅存储键（索引），不存储数据，所有的数据都存储在叶子节点中。叶子节点包含了所有数据的完整键值对
2.节点结构：
B树：每个节点可以有多个键和多个子节点（M个键和M+1个子节点，M通常根据实际存储需求和磁盘页大小确定），键和子节点之间形成一种索引关系
B+树：每个节点同样可以有多个键和多个子节点（M个键和M个子节点），但只有叶子节点存储了对应的值。非叶子节点仅作为索引，不存储数据值
3.键值重复：
B树：每个节点的键是唯一的，不会在树中重复出现
B+树：非叶子节点的键可能会在其他节点中重复出现，因为它们仅作为索引，不携带数据
4.叶节点连接：
B树：叶子节点彼此独立，没有直接的链接关系
B+树：叶子节点之间通过指针连接成一个有序链表，使得范围查询更加高效。这种链式结构使得遍历叶子节点（即遍历所有数据）变得简单且无需回溯到父节点
5.查询性能：
B树：查询效率取决于目标数据在树中的位置，数据可能在任何节点被找到，这可能导致查询路径长度的不一致性。但对于某些查询，如果所需数据恰好在非叶子节点中，可以减少一次磁盘I/O
B+树：查询性能更为稳定，因为所有数据都在叶子节点，所以对任何非叶子节点的查找都必须到达叶子节点才能获取数据。查询时间复杂度固定为O(log n)，不受数据分布影响
6.磁盘I/O效率：
B树：由于非叶子节点也存储数据，导致每个节点能够存储的键数量相对较少，树的高度可能较高，增加了磁盘I/O次数
B+树：非叶子节点不存储数据，每个节点可以容纳更多键，使得树更矮胖。这降低了树的高度，减少了磁盘I/O次数，尤其适合大规模数据的外存存储
7.区间查询与全表扫描：
B树：由于非叶子节点间没有直接链接，进行范围查询或全表扫描时需要逐层深入，效率较低
B+树：得益于叶子节点的链表结构，可以快速进行范围查询和全表扫描，只需沿着链表顺序移动即可
```


